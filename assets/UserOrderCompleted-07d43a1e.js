import{U as h}from"./UserCartStepComponent-26f137b5.js";import{_ as m,r as c,o as f,b,e as d,d as t,f as s,t as i,w as x,F as C}from"./index-d51c872c.js";const{VITE_APP_URL:a,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/somesweet/",MODE:"production",DEV:!1,PROD:!0},y={data(){return{count:10,order:{user:{}},orderId:""}},components:{UserCartStepComponent:h},methods:{countDown(){this.count--,this.count===0&&this.$router.push("/"),setTimeout(()=>{this.countDown()},1e3)},getOrder(){const o=`${a}api/${p}/order/${this.orderId}`;this.$http.get(o).then(e=>{e.data.success&&(this.order=e.data.order,console.log(this.order))})},payOrder(){const o=`${a}v2/api/${p}/pay/${this.orderId}`;this.$http.post(o).then(e=>{e.data.success&&(this.order.is_paid=!0,this.$router.push("/order_completed"),this.getOrder())})},copyCouponCode(o){const e=n=>document.querySelector(n);e("#orderSave").addEventListener("click",()=>{navigator.clipboard.writeText(e("#orderId").textContent)})}},created(){this.orderId=this.$route.query.id,console.log(this.orderId),this.getOrder()},mounted(){this.countDown(),this.copyCouponCode()}},v={class:"container mt-10 mb-10"},g={class:"row justify-content-center"},I={class:"col bg-white py-5 px-2 px-lg-3 border rounded-5"},$={class:"text-center"},P=t("h2",{class:"d-flex flex-column mb-3"},[t("span",{class:"text-success fs-6 mb-2"},[t("i",{class:"bi bi-check-circle fs-1"})]),s(" 訂單支付完成 ")],-1),w={class:"fs-3 text-secondary mb-4"},E=t("h5",{class:"mb-10"},"— 感謝您的訂購 —",-1),T={class:"d-flex justify-content-center align-items-center"},S={class:"fs-6 me-2"},U={id:"orderId"},V=t("p",{class:"fs-6"}," 從備貨到寄出商品為 7 個工作天（不包含假日） ",-1),k=t("p",{class:"fs-6 mb-10"},"再請留意簡訊通知",-1),A=t("a",{href:"#/products",class:"btn btn-primary px-5 py-2"},"繼續選購",-1);function D(o,e,n,O,r,l){const u=c("UserCartStepComponent"),_=c("RouterLink");return f(),b(C,null,[d(u),t("div",v,[t("div",g,[t("div",I,[t("div",$,[P,t("div",w,[E,t("div",T,[t("p",S,[s("此為您的訂單編號 : "),t("span",U,i(r.orderId),1)]),t("button",{type:"button",id:"orderSave",class:"btn border-bottom rounded-0 p-0",onClick:e[0]||(e[0]=L=>l.copyCouponCode(r.order.id))},"複製訂單編號")]),V,k]),A,t("p",null,[s("該頁將在 "),t("span",null,i(r.count),1),s(" 秒後自動跳轉 ")]),d(_,{to:"/"},{default:x(()=>[s("點擊跳轉")]),_:1})])])])])],64)}const j=m(y,[["render",D]]);export{j as default};
