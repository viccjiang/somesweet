import{R as ht,T as ft}from"./RecommendProductsSwiper-bd10ffda.js";import{M as _t,N as dt,c as M,_ as B,o as G,b as W,r as j,e as k,d as m,F as mt}from"./index-aac9fba2.js";import{r as H,e as gt,a as bt,d as vt,b as Tt}from"./component-functions-254c61bd.js";import{r as Et}from"./selector-engine-4325ca7f.js";import{G as yt}from"./GoTop-9107c58a.js";var I={},Ct={get exports(){return I},set exports(r){I=r}},x={},wt={get exports(){return x},set exports(r){x=r}};const At=_t(dt);var D={},Nt={get exports(){return D},set exports(r){D=r}};/*!
  * Bootstrap sanitizer.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var q;function Q(){return q||(q=1,function(r,c){(function(l,i){i(c)})(M,function(l){const i=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),w=/^aria-[\w-]*$/i,p=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,b=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,E=(h,u)=>{const n=h.nodeName.toLowerCase();return u.includes(n)?i.has(n)?Boolean(p.test(h.nodeValue)||b.test(h.nodeValue)):!0:u.filter(f=>f instanceof RegExp).some(f=>f.test(n))},y={"*":["class","dir","id","lang","role",w],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function v(h,u,n){if(!h.length)return h;if(n&&typeof n=="function")return n(h);const _=new window.DOMParser().parseFromString(h,"text/html"),o=[].concat(..._.body.querySelectorAll("*"));for(const s of o){const T=s.nodeName.toLowerCase();if(!Object.keys(u).includes(T)){s.remove();continue}const g=[].concat(...s.attributes),P=[].concat(u["*"]||[],u[T]||[]);for(const S of g)E(S,P)||s.removeAttribute(S.nodeName)}return _.body.innerHTML}l.DefaultAllowlist=y,l.sanitizeHtml=v,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})}(Nt,D)),D}var F={},St={get exports(){return F},set exports(r){F=r}};/*!
  * Bootstrap template-factory.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var V;function Pt(){return V||(V=1,function(r,c){(function(l,i){r.exports=i(Q(),H(),Et(),gt())})(M,function(l,i,w,p){const b=_=>_&&typeof _=="object"&&"default"in _?_:{default:_},E=b(w),y=b(p),v="TemplateFactory",h={allowList:l.DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},u={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},n={entry:"(string|element|function|null)",selector:"(string|element)"};class f extends y.default{constructor(o){super(),this._config=this._getConfig(o)}static get Default(){return h}static get DefaultType(){return u}static get NAME(){return v}getContent(){return Object.values(this._config.content).map(o=>this._resolvePossibleFunction(o)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(o){return this._checkContent(o),this._config.content={...this._config.content,...o},this}toHtml(){const o=document.createElement("div");o.innerHTML=this._maybeSanitize(this._config.template);for(const[g,P]of Object.entries(this._config.content))this._setContent(o,P,g);const s=o.children[0],T=this._resolvePossibleFunction(this._config.extraClass);return T&&s.classList.add(...T.split(" ")),s}_typeCheckConfig(o){super._typeCheckConfig(o),this._checkContent(o.content)}_checkContent(o){for(const[s,T]of Object.entries(o))super._typeCheckConfig({selector:s,entry:T},n)}_setContent(o,s,T){const g=E.default.findOne(T,o);if(g){if(s=this._resolvePossibleFunction(s),!s){g.remove();return}if(i.isElement(s)){this._putElementInTemplate(i.getElement(s),g);return}if(this._config.html){g.innerHTML=this._maybeSanitize(s);return}g.textContent=s}}_maybeSanitize(o){return this._config.sanitize?l.sanitizeHtml(o,this._config.allowList,this._config.sanitizeFn):o}_resolvePossibleFunction(o){return typeof o=="function"?o(this):o}_putElementInTemplate(o,s){if(this._config.html){s.innerHTML="",s.append(o);return}s.textContent=o.textContent}}return f})}(St)),F}/*!
  * Bootstrap tooltip.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var U;function Ot(){return U||(U=1,function(r,c){(function(l,i){r.exports=i(At,H(),Q(),bt(),vt(),Tt(),Pt())})(M,function(l,i,w,p,b,E,y){const v=d=>d&&typeof d=="object"&&"default"in d?d:{default:d};function h(d){if(d&&d.__esModule)return d;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(d){for(const e in d)if(e!=="default"){const a=Object.getOwnPropertyDescriptor(d,e);Object.defineProperty(t,e,a.get?a:{enumerable:!0,get:()=>d[e]})}}return t.default=d,Object.freeze(t)}const u=h(l),n=v(p),f=v(b),_=v(E),o=v(y),s="tooltip",T=new Set(["sanitize","allowList","sanitizeFn"]),g="fade",P="modal",S="show",J=".tooltip-inner",z=`.${P}`,$="hide.bs.modal",O="hover",R="focus",K="click",X="manual",Y="hide",Z="hidden",tt="show",et="shown",ot="inserted",nt="click",it="focusin",st="focusout",rt="mouseenter",at="mouseleave",lt={AUTO:"auto",TOP:"top",RIGHT:i.isRTL()?"left":"right",BOTTOM:"bottom",LEFT:i.isRTL()?"right":"left"},ct={allowList:w.DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ut={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class L extends _.default{constructor(t,e){if(typeof u>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ct}static get DefaultType(){return ut}static get NAME(){return s}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),n.default.off(this._element.closest(z),$,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=n.default.trigger(this._element,this.constructor.eventName(tt)),a=(i.findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!a)return;this._disposePopper();const C=this._getTipElement();this._element.setAttribute("aria-describedby",C.getAttribute("id"));const{container:A}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(A.append(C),n.default.trigger(this._element,this.constructor.eventName(ot))),this._popper=this._createPopper(C),C.classList.add(S),"ontouchstart"in document.documentElement)for(const pt of[].concat(...document.body.children))n.default.on(pt,"mouseover",i.noop);const N=()=>{n.default.trigger(this._element,this.constructor.eventName(et)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(N,this.tip,this._isAnimated())}hide(){if(!this._isShown()||n.default.trigger(this._element,this.constructor.eventName(Y)).defaultPrevented)return;if(this._getTipElement().classList.remove(S),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))n.default.off(C,"mouseover",i.noop);this._activeTrigger[K]=!1,this._activeTrigger[R]=!1,this._activeTrigger[O]=!1,this._isHovered=null;const a=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),n.default.trigger(this._element,this.constructor.eventName(Z)))};this._queueCallback(a,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(g,S),e.classList.add(`bs-${this.constructor.NAME}-auto`);const a=i.getUID(this.constructor.NAME).toString();return e.setAttribute("id",a),this._isAnimated()&&e.classList.add(g),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new o.default({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[J]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(g)}_isShown(){return this.tip&&this.tip.classList.contains(S)}_createPopper(t){const e=typeof this._config.placement=="function"?this._config.placement.call(this,t,this._element):this._config.placement,a=lt[e.toUpperCase()];return u.createPopper(this._element,t,this._getPopperConfig(a))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return typeof t=="function"?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:a=>{this._getTipElement().setAttribute("data-popper-placement",a.state.placement)}}]};return{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")n.default.on(this._element,this.constructor.eventName(nt),this._config.selector,a=>{this._initializeOnDelegatedTarget(a).toggle()});else if(e!==X){const a=e===O?this.constructor.eventName(rt):this.constructor.eventName(it),C=e===O?this.constructor.eventName(at):this.constructor.eventName(st);n.default.on(this._element,a,this._config.selector,A=>{const N=this._initializeOnDelegatedTarget(A);N._activeTrigger[A.type==="focusin"?R:O]=!0,N._enter()}),n.default.on(this._element,C,this._config.selector,A=>{const N=this._initializeOnDelegatedTarget(A);N._activeTrigger[A.type==="focusout"?R:O]=N._element.contains(A.relatedTarget),N._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},n.default.on(this._element.closest(z),$,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=f.default.getDataAttributes(this._element);for(const a of Object.keys(e))T.has(a)&&delete e[a];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:i.getElement(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=L.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}return i.defineJQueryPlugin(L),L})}(wt)),x}/*!
  * Bootstrap popover.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(r,c){(function(l,i){r.exports=i(H(),Ot())})(M,function(l,i){const p=(n=>n&&typeof n=="object"&&"default"in n?n:{default:n})(i),b="popover",E=".popover-header",y=".popover-body",v={...p.default.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},h={...p.default.DefaultType,content:"(null|string|element|function)"};class u extends p.default{static get Default(){return v}static get DefaultType(){return h}static get NAME(){return b}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[E]:this._getTitle(),[y]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(f){return this.each(function(){const _=u.getOrCreateInstance(this,f);if(typeof f=="string"){if(typeof _[f]>"u")throw new TypeError(`No method named "${f}"`);_[f]()}})}}return l.defineJQueryPlugin(u),u})})(Ct);const Dt=I,Lt={data(){return{popover:""}},methods:{popoverShow(){this.popover.show()}},mounted(){this.popover=new Dt(this.$refs.popover,{content:"注意事項"}),this.$router.beforeEach((r,c,l)=>{this.popover.hide(),l()})}};function xt(r,c,l,i,w,p){return G(),W("button",{type:"button",ref:"popover",class:"btn btn-primary",onClick:c[0]||(c[0]=(...b)=>p.popoverShow&&p.popoverShow(...b))},"Click popover",512)}const Ft=B(Lt,[["render",xt]]),Mt={data(){return{toast:""}},components:{PopoverComponent:Ft,GoTop:yt,RecommendProductsSwiper:ht},methods:{copyCouponCode(){const r=c=>document.querySelector(c);r("#coupon_btn").addEventListener("click",()=>{navigator.clipboard.writeText(r("#coupon_save").textContent),this.showAlert()})},showAlert(){this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:c=>{c.addEventListener("mouseenter",this.$swal.stopTimer),c.addEventListener("mouseleave",this.$swal.resumeTimer)}}).fire({icon:"success",title:"優惠碼複製成功"})}},mounted(){this.copyCouponCode(),this.toast=new ft(this.$refs.coupon),this.toast.show()}},Rt=m("div",null,null,-1),jt={ref:"coupon",role:"alert","aria-live":"assertive","aria-atomic":"true",class:"toast ms-5",style:{width:"300px"},"data-bs-autohide":"false"},kt=m("div",{class:"toast-header"},[m("img",{src:"",class:"rounded me-2",alt:""}),m("strong",{class:"me-auto"},"領取優惠碼"),m("small",null,"限時限量倒數中"),m("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1),It={class:"toast-body"},Ht={class:"d-flex justify-content-center d-flex align-items-center"},zt=m("img",{src:"https://pic.sopili.net/pub/emoji/noto-emoji/png/128/emoji_u1f449.png",alt:"複製優惠碼",width:"20",height:"20"},null,-1),$t=m("span",{class:"ms-2",id:"coupon_save"},"2023",-1),qt={class:""},Vt=m("p",null,"cart",-1);function Ut(r,c,l,i,w,p){const b=j("RecommendProductsSwiper"),E=j("GoTop"),y=j("PopoverComponent");return G(),W(mt,null,[k(b),Rt,k(E),m("div",jt,[kt,m("div",It,[m("div",Ht,[zt,$t,m("button",{onClick:c[0]||(c[0]=(...v)=>p.copyCouponCode&&p.copyCouponCode(...v)),class:"coupon btn btn-outline-primary ms-3 btn-sm",id:"coupon_btn"}," 複製優惠碼 ")])])],512),m("div",qt,[k(y),Vt])],64)}const Kt=B(Mt,[["render",Ut]]);export{Kt as default};
