import{_ as g,V as _,r as m,o as n,b as a,e as y,d as e,j as b,v as f,t as s,g as O,h as c,F as v}from"./index-2a82ee32.js";const{VITE_APP_URL:u,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/somesweet/",MODE:"production",DEV:!1,PROD:!0},x={data(){return{order:{},orderId:"",queryOrder:[],create_at:"",orderUser:[],is_paid:"",orderProducts:[],isLoading:!1}},components:{VueLoading:_},methods:{getCarts(){this.isLoading=!0,this.$http.get(`${u}api/${p}/cart`).then(o=>{this.isLoading=!1,console.log("購物車：",o),this.cartData=o.data.data})},getOrder(){if(!this.orderId)return;const o=`${u}api/${p}/orders`;this.$http.get(o).then(r=>{r.data.success&&(this.order=r.data.orders,console.log(this.order),this.filterOrder(),this.create_at=this.queryOrder[0].create_at,this.create_at=new Date(this.create_at*1e3).toISOString().substring(0,10),this.orderUser=this.queryOrder[0].user,this.is_paid=this.queryOrder[0].is_paid,this.orderProducts=this.queryOrder[0].products)})},filterOrder(){this.queryOrder=this.order.filter(o=>o.id===this.orderId),console.log(this.queryOrder)},goOrderPage(){this.$router.push(`/order_payment/${this.orderId}`)}},created(){this.getOrder()}},I=e("div",{class:"card border-0 rounded-0 bg-dark text-white mb-5"},[e("div",{class:"filters",style:{height:"200px","background-image":"url(https://storage.googleapis.com/vue-course-api.appspot.com/jiangs2023/1678434203376.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=UBxJyY3fDcVkO7rlmRtkVyg45j7wG48MPLwbDQ%2BX%2FGOaCmLtdpV8oOg5Li8RxP8i4JL%2F2CHbUd8fVB5av4GnkIKTm99zZZxLMIA5uBy4uYlHPOTrywCh151dgfP7EEpoYrIjmJvvx65x4%2Btp3N9RhCaEutJKc8UrsgVF40cDftAknYs0ZeiX13KTKKbRQ9YvfSvkervKwDN8wVaBsFbRpXkzs34wNXn2aSC7eIo0Dw7NTzklz%2B9%2BFtG70LgsTaec5F6XA6TsDuu9hJ%2B9FGQO2pR%2BKhWjrJ5yib6ut6iDqhq%2FwubbGxMqRvot9bE8MYuODGIRM1Vqa2pb1noRJ1jLAA%3D%3D)","background-size":"cover","background-position":"center bottom","background-attachment":"fixed"}}),e("div",{class:"card-img-overlay d-flex flex-column justify-content-center align-item-center"},[e("h1",{class:"card-title text-center fw-bold"},"訂單查詢")])],-1),P={class:"container d-flex justify-content-center align-items-center",style:{height:"500px"}},V={class:"row d-flex justify-content-center align-items-center mb-5"},k=e("label",{class:"mb-3 text-center mt-2 fs-2 fw-bold",for:"orderId"},"請輸入訂單編號",-1),w={class:"col d-flex justify-content-center align-items-center mb-4"},D={class:"d-flex"},L={key:0,class:"accordion mb-5",id:"accordionPanelsStayOpenExample"},U={class:"accordion-item"},B={class:"accordion-header",id:"panelsStayOpen-headingOne"},E={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"},j={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},A={class:"accordion-body"},R={class:"list-unstyled"},S={class:"d-flex justify-content-end"};function T(o,r,q,C,t,d){var l;const h=m("VueLoading");return n(),a(v,null,[y(h,{active:t.isLoading},null,8,["active"]),I,e("div",P,[e("div",V,[k,e("div",w,[e("div",D,[b(e("input",{style:{width:"300px"},type:"text",placeholder:"請輸入訂單編號",id:"orderId",class:"input-group-text bg-light text-soft","onUpdate:modelValue":r[0]||(r[0]=i=>t.orderId=i)},null,512),[[f,t.orderId,void 0,{trim:!0}]]),e("button",{type:"button",class:"ms-2 btn btn-outline-primary",onClick:r[1]||(r[1]=(...i)=>d.getOrder&&d.getOrder(...i))},"送出 ")])]),t.orderUser.name?(n(),a("div",L,[e("div",U,[e("h2",B,[e("button",E," 訂單編號："+s(t.orderId),1)]),e("div",j,[e("div",A,[e("ul",R,[e("li",null,"購買日期："+s(t.create_at),1),e("li",null,"姓名："+s(t.orderUser.name),1),e("li",null,"電話："+s(t.orderUser.tel),1),e("li",null,"地址："+s(t.orderUser.address),1),e("li",null,"信箱："+s(t.orderUser.email),1),e("li",null,"付款金額："+s((l=t.queryOrder[0])==null?void 0:l.total),1),e("li",null,"付款狀態："+s(t.is_paid?"已付款":"未付款"),1),e("div",S,[t.orderId?(n(),a("a",{key:0,href:"#",class:"btn btn-soft",onClick:r[2]||(r[2]=O((...i)=>d.goOrderPage&&d.goOrderPage(...i),["prevent"]))},"前往訂單頁面")):c("",!0)])])])])])])):c("",!0)])])],64)}const G=g(x,[["render",T]]);export{G as default};
