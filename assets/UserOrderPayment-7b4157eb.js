import{U as a}from"./UserCartStepComponent-025477ed.js";import{_ as u,r as m,o as r,b as d,e as y,d as t,t as e,F as l,i as b,h as w,f}from"./index-4b8e06be.js";const{VITE_APP_URL:_,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/somesweet/",MODE:"production",DEV:!1,PROD:!0},g={data(){return{order:{user:{}},orderId:""}},components:{UserCartStepComponent:a},methods:{getOrder(){const c=`${_}api/${p}/order/${this.orderId}`;this.$http.get(c).then(o=>{o.data.success&&(this.order=o.data.order,console.log(this.order))})},payOrder(){const c=`${_}v2/api/${p}/pay/${this.orderId}`;this.$http.post(c).then(o=>{o.data.success&&(this.order.is_paid=!0,this.$router.push({path:"/order_completed",query:{id:this.orderId}}),this.getOrder())})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},v={class:"bg-light pt-5 pb-7 mt-5"},P={class:"container"},x={class:"row justify-content-center flex-column flex-md-row"},I={class:"col-md-8 sticky-lg-top position-lg-sticky h-50"},k={class:"border rounded-4 p-4 mb-4"},C=t("div",{class:"d-flex justify-content-between"},[t("h4",{class:"mb-4"},"訂購資訊"),t("button",{type:"button",class:"btn btn-outline-primary"},"複製訂單編號")],-1),E={class:"table align-middle"},O={class:"align-middle"},V=t("th",{scope:"col"},"訂購編號",-1),U={scope:"col"},A=t("th",{scope:"col"},"訂購日期",-1),T={scope:"col"},S=t("th",{scope:"row"},"姓名",-1),B=t("th",{scope:"row"},"Email",-1),D=t("th",{scope:"row"},"電話",-1),L={scope:"row"},N=t("th",{scope:"row"},"地址",-1),R={scope:"row"},j=t("th",{scope:"row"},"訂購產品",-1),q={scope:"row"},F={class:"w-100"},H={class:""},M={class:"mb-0"},$={class:"mb-0"},z=t("th",{scope:"row"},"付款金額",-1),G={scope:"row"},J=t("th",{scope:"row"},"付款方式",-1),K={scope:"row"},Q=t("th",{scope:"row"},"付款狀態",-1),W={scope:"row"},X={key:0,class:"text-danger"},Y={key:1,class:"text-success"};function Z(c,o,tt,st,s,i){const h=m("UserCartStepComponent");return r(),d(l,null,[y(h),t("div",v,[t("div",P,[t("div",x,[t("div",I,[t("div",k,[C,t("table",E,[t("thead",null,[t("tr",O,[V,t("th",U,[t("span",null,e(s.order.id),1)])])]),t("tbody",null,[t("tr",null,[A,t("td",T,e(s.order.create_at),1)]),t("tr",null,[S,t("td",null,e(s.order.user.name),1)]),t("tr",null,[B,t("td",null,e(s.order.user.email),1)]),t("tr",null,[D,t("td",L,e(s.order.user.tel),1)]),t("tr",null,[N,t("td",R,e(s.order.user.address),1)]),t("tr",null,[j,t("td",q,[(r(!0),d(l,null,b(s.order.products,n=>(r(),d("div",{class:"",key:n.id},[t("div",F,[t("div",H,[t("p",M,[f(e(n.product.title)+" ",1),t("span",$," x "+e(n.qty),1)])])])]))),128))])]),t("tr",null,[z,t("td",G,e(s.order.total),1)]),t("tr",null,[J,t("td",K,e(s.order.user.shipping),1)]),t("tr",null,[Q,t("td",W,[s.order.is_paid?(r(),d("span",Y,"付款完成")):(r(),d("span",X,"未付款"))])])])])]),s.order.is_paid?w("",!0):(r(),d("button",{key:0,type:"button",class:"btn btn-primary float-end",onClick:o[0]||(o[0]=(...n)=>i.payOrder&&i.payOrder(...n))},"確認付款"))])])])])],64)}const rt=u(g,[["render",Z]]);export{rt as default};
