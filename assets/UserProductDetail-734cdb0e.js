import{_ as C,o as i,b as r,d as t,F as h,i as f,n as V,t as a,g as I,p as L,k as A,V as U,m as D,a as T,r as v,e as u,w,s as j,f as p,j as z,L as B,u as E}from"./index-8727cd69.js";import{s as k}from"./LocalStorage-934dfab6.js";import{c as y}from"./UserCartStore-38a10966.js";const{VITE_APP_URL:P,VITE_APP_PATH:x}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/somesweet/",MODE:"production",DEV:!1,PROD:!0};function $(s){return Math.floor(Math.random()*s)}const R={data(){return{product:{},products:[],productImg:"",id:"",isLoading:!1,randomProducts:[]}},methods:{getProduct(){const{id:s}=this.$route.params;this.isLoading=!0,this.$http(`${P}api/${x}/product/${s}`).then(o=>{this.isLoading=!1,this.product=o.data.product,this.productImg=this.product.imageUrl,this.getProducts()})},getProducts(){const s=`${P}api/${x}/products/all`;this.$http.get(s).then(o=>{this.products=o.data.products,this.getLookLike()})},goProductPage(s){this.$router.push(`/product/${s}`)},getLookLike(){const{category:s}=this.product,o=this.products.filter(e=>e.category===s),_=o.length<4?o.length:4,l=new Set([]);for(let e=0;l.size<_;e+1){const d=$(o.length);l.add(d)}l.forEach(e=>{this.randomProducts.push(o[e])})}},mounted(){this.id=this.$route.params.id,this.getProduct()}},S=s=>(L("data-v-c2be0f94"),s=s(),A(),s),M={class:"bg-light py-10"},G={class:"container"},W=S(()=>t("p",{class:"fs-3 fw-bold py-2 text-dark text-start border-bottom mb-10"}," 你可能也會喜歡 ",-1)),q={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4"},H={class:"card h-100 rounded-4 p-5 card-hover"},O={class:"card-body d-flex flex-column justify-content-between"},K={class:"card-title"},N=["onClick"];function Q(s,o,_,l,e,d){return i(),r("div",M,[t("div",G,[W,t("div",q,[(i(!0),r(h,null,f(e.randomProducts,n=>(i(),r("div",{key:n,class:"col"},[t("div",H,[t("div",{style:V([{height:"200px","background-size":"cover","background-position":"center","object-fit":"cover"},`backgroundImage: url(${n.imageUrl})`]),class:"card-img-top rounded-4 p-5",alt:""},null,4),t("div",null,[t("div",O,[t("h5",K,a(n.title),1)])]),t("a",{href:"",class:"btn btn-white stretched-link d-flex flex-column text-end mt-auto p-0",onClick:I(g=>d.goProductPage(n.id),["prevent"])},"查看更多",8,N)])]))),128))])])])}const X=C(R,[["render",Q],["__scopeId","data-v-c2be0f94"]]);const{VITE_APP_URL:J,VITE_APP_PATH:Z}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jiangs2023",BASE_URL:"/somesweet/",MODE:"production",DEV:!1,PROD:!0},Y={data(){return{isLoading:!1,product:[],id:"",productImg:"",qty:1,myFavorite:k.get()||[]}},components:{VueLoading:U,UserProdectDetailLooklike:X},methods:{getProduct(){this.isLoading=!0,this.$http.get(`${J}api/${Z}/product/${this.id}`).then(s=>{console.log(s.data);const{product:o}=s.data;this.product=o,this.productImg=this.product.imageUrl,this.isLoading=!1,console.log(this.product)})},...D(y,["addToCart","getCarts"]),changeImg(s){this.productImg=s},addMyFavorite(s){this.myFavorite.includes(s.id)?this.myFavorite.splice(this.myFavorite.indexOf(s.id),1):(this.myFavorite.push(s.id),this.favShowAlert())},favShowAlert(){this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",this.$swal.stopTimer),o.addEventListener("mouseleave",this.$swal.resumeTimer)}}).fire({icon:"success",title:"已加入蒐藏清單"})}},watch:{myFavorite:{handler(){k.save(this.myFavorite)},deep:!0}},computed:{...T(y,["cartData","cartsLength"])},created(){this.id=this.$route.params.id,console.log(this.$route.params.id)},mounted(){this.getProduct()}},m=s=>(L("data-v-5cf82523"),s=s(),A(),s),tt={class:"banner bg-cover"},et={class:"container"},st={class:"row"},ot={class:"col-12 col-md-6"},ct=["src","alt"],it={class:"row"},rt={class:"col-4 p-5 cursor-pointer"},at=["src"],dt=["src","alt","onClick"],nt={class:"col-12 col-md-6"},lt={"aria-label":"breadcrumb"},ut={class:"breadcrumb bg-white px-0 mb-0 py-3 fs-6"},pt={class:"breadcrumb-item"},ht={class:"breadcrumb-item"},mt=m(()=>t("li",{class:"breadcrumb-item active","aria-current":"page"},"產品細節",-1)),_t={class:"fs-3 fw-bold h1 mb-1"},gt={class:"mt-5 mb-0 text-muted text-start"},vt={class:"h5 fw-bold text-start mb-5"},ft={class:"row align-items-center"},bt={key:0,class:"m-0 text-danger d-flex align-items-center justify-content-center"},wt=m(()=>t("i",{class:"fs-4 bi-suit-heart-fill top-0 end-0 me-2 mt-1 text-danger"},null,-1)),kt={key:1,class:"m-0 text-soft d-flex align-items-center justify-content-center"},yt=m(()=>t("i",{class:"fs-4 bi bi-suit-heart top-0 end-0 me-2 mt-1 p-0"},null,-1)),Pt={class:"input-group mb-3"},xt=["value"],Ct=E('<ul class="list-unstyled" data-v-5cf82523><li data-v-5cf82523> 付款後，從備貨到寄出商品為 7 個工作天。（不包含假日） </li></ul><hr data-v-5cf82523><ul class="list-unstyled text-danger" data-v-5cf82523><li data-v-5cf82523>此商品可領取折扣碼</li><li data-v-5cf82523>實際優惠折抵以購物車內的金額為準</li></ul><hr data-v-5cf82523><div class="text-secondary d-flex justify-content-end align-items-center" data-v-5cf82523><span class="me-3" data-v-5cf82523>分享</span><a href="https://viccjiang.github.io/somesweet/#/" class="link-dark" data-v-5cf82523><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-facebook me-3" viewBox="0 0 16 16" data-v-5cf82523><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z" data-v-5cf82523></path></svg></a><a href="https://viccjiang.github.io/somesweet/#/" class="link-dark" data-v-5cf82523><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-instagram me-3" viewBox="0 0 16 16" data-v-5cf82523><path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z" data-v-5cf82523></path></svg></a><a href="https://viccjiang.github.io/somesweet/#/" class="link-dark" data-v-5cf82523><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter" viewBox="0 0 16 16" data-v-5cf82523><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-v-5cf82523></path></svg></a></div>',5),It={class:"banner bg-cover pt-10"},Lt={class:"container mb-5"},At={class:"row g-0","data-aos":"fade-up","data-aos-duration":"1000"},Ft={class:"col-md-4"},Vt=["alt"],Ut={class:"col-md-6 m-auto text-start p-5"},Dt={class:"mb-5"},Tt={class:"text-secondary"},jt={class:"row g-0 justify-content-between mt-10","data-aos":"fade-up","data-aos-duration":"1000"},zt=m(()=>t("div",{class:"col-md-4"},[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/jiangs2023/1678412966133.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=ofuv2yWPXt6RCDCGBCyvzZsL3r3QKMkCdAWXaJCr3XKCkozruqo20ZRjv9hItJC5aOOC5j5xRYk22xs1sc%2BGS9JqVumbx6gWqQln9hD%2FGv864nNMi6r59M03iyo70k8qioUgfKlPfwc2p1IYwTR%2BYi3UK793aePqWW3c58ompTHf5joUklU7URm4yKRIlpZ00zoWXHkF%2FsOG%2BuJQFA3VYmqp6UkaakCJtuKcCzflXWE78UdbX6ZrnFLFGLaco7nu%2F0owWQWFv5StN3sSiodp9M9ploeWsw2ray0419j6FLNuP2q7Kdpz6Po9RvSyWCu%2FPzkfofzecXdGbB%2FeqmTINw%3D%3D",alt:"防疫樂活",class:"img-fluid rounded-5 p-5 border"})],-1)),Bt={class:"col-md-6 m-auto text-start m-0 p-5"},Et={class:"text-secondary"};function $t(s,o,_,l,e,d){const n=v("VueLoading"),g=v("RouterLink"),F=v("UserProdectDetailLooklike");return i(),r(h,null,[u(n,{active:e.isLoading,loader:"bars",color:"#034D83"},null,8,["active"]),t("div",tt,[t("div",et,[t("div",st,[t("div",ot,[t("img",{class:"p-4 rounded-5 w-100 border",src:e.productImg,alt:e.product.title,style:{height:"400px","background-size":"cover","background-position":"center center","object-fit":"cover"}},null,8,ct),t("div",it,[t("div",rt,[t("img",{style:{height:"100px","background-size":"cover","background-position":"center center","object-fit":"cover"},class:"w-100 p-0 rounded-0 mt-2 border rounded-4",src:e.product.imageUrl,alt:"產品",onClick:o[0]||(o[0]=c=>d.changeImg(e.product.imageUrl))},null,8,at)]),(i(!0),r(h,null,f(e.product.imagesUrl,(c,b)=>(i(),r("div",{class:"col-4 p-5 cursor-pointer",key:`圖_${b}`},[t("img",{style:{height:"100px","background-size":"cover","background-position":"center center","object-fit":"cover"},class:"w-100 p-0 rounded-0 mt-2 border rounded-4",src:c,alt:`圖_${b}`,onClick:Rt=>d.changeImg(c)},null,8,dt)]))),128))])]),t("div",nt,[t("nav",lt,[t("ol",ut,[t("li",pt,[u(g,{to:"/",class:""},{default:w(()=>[p("回首頁")]),_:1})]),t("li",ht,[u(g,{to:"/products",class:""},{default:w(()=>[p("產品列表")]),_:1})]),mt])]),t("h2",_t,a(e.product.title),1),t("p",gt,[t("del",null,"NT$"+a(e.product.origin_price),1)]),t("p",vt," NT$"+a(e.product.price),1),t("div",ft,[t("div",null,[t("a",{href:"#",onClick:o[1]||(o[1]=I(c=>d.addMyFavorite(e.product),["prevent"])),class:j([{active:e.myFavorite.includes(e.product.id)},"link-secondary d-block rounded border text-center mb-3 rounded-3"])},[e.myFavorite.includes(e.product.id)?(i(),r("p",bt,[wt,p("已加入收藏 ")])):(i(),r("p",kt,[yt,p("加入收藏")]))],2),t("div",Pt,[z(t("select",{id:"",class:"form-select border-bottom border-0 rounded-0 me-3","onUpdate:modelValue":o[2]||(o[2]=c=>e.qty=c)},[(i(),r(h,null,f(10,c=>t("option",{value:c,key:`${c}${e.product.id}`},a(c),9,xt)),64))],512),[[B,e.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary border-0 rounded-3",onClick:o[3]||(o[3]=c=>s.addToCart(e.product.id,e.qty))}," 加入購物車 ")])])]),Ct])])])]),t("div",It,[t("div",Lt,[t("div",At,[t("div",Ft,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/jiangs2023/1678412947710.jpg?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=CYhdBaempuovMGV3FPUTzGQmJcdxUexOR467IoCP9DarD7hVxsoChQoJEpcQonaOLAIf6LmfW%2BTKiosIMI%2B4pDVXs8aWEuPLztC1HvW4maWwvShTy%2B8P24ocifrgegJj%2BRZEwoxD%2BPQQnH6oblI5%2F88b5pGyuM%2FdIPGBkfR%2FrVm8AR9HQpwwWGKaFaew1lHn7AJqKGK4D1EPvBwobuXfA0kprnCJ%2FO4TZybWyjtAfGk%2Bj9dlqGmVgFECfYqGbe5FQc%2B%2BDXwjl5x2ViiDyvBOZy4YNR9x6bAIuMClxlX1UFV8F0qk9K6Bu%2FaYDcgd2UrjHD9HibNeAhMOtoUbZZecQw%3D%3D",alt:e.product.title,class:"img-fluid rounded-5 p-5 border"},null,8,Vt)]),t("div",Ut,[t("h4",Dt,a(e.product.title),1),t("p",Tt,a(e.product.description),1)])]),t("div",jt,[zt,t("div",Bt,[t("p",Et,a(e.product.content),1)])])])]),u(F)],64)}const Wt=C(Y,[["render",$t],["__scopeId","data-v-5cf82523"]]);export{Wt as default};
